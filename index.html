<!DOCTYPE html>
<html>
  <head>
    <title>tacho.fyi</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="theme-color" content="#fff">
    <meta name="description" content="Simple tacho">
    <meta name="keywords" content="tacho,tachometer,free tachometer,speed tracking,kmh,mph">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--    <link href="styles.css" rel="stylesheet">
     <link rel="manifest" href="/manifest.webmanifest">
    <script type="text/javascript" src="index.js"></script> -->
  </head>
  <body>
    <div>
      Latitude: <output id="latitude">0</output>
    </div>
    <div>
      Longitude: <output id="longitude">0</output>
    </div>
    <div>
      Accuracy: <output id="accuracy">0</output>
    </div>
    <div>
      Altitude: <output id="altitude">0</output>
    </div>
    <div>
      Altitude Accuracy: <output id="altitudeAccuracy">0</output>
    </div>
    <div>
      Speed: <output id="speed">0</output>
    </div>
    <script type="text/javascript">

      let showError = function(error) {
        console.log('ERROR!!');
        console.log(error);
      }

      var displayCoordinates = function(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var accuracy = position.coords.accuracy;
        var altitude = position.coords.altitude;
        var altitudeAccuracy = position.coords.altitudeAccuracy;
        var speed = position.coords.speed;

        // console.log(position);

        document.querySelector('output#latitude').innerHTML = latitude || `n/a`;
        document.querySelector('output#longitude').innerHTML = longitude || `n/a`;
        document.querySelector('output#accuracy').innerHTML = accuracy || `n/a`;
        document.querySelector('output#altitude').innerHTML = altitude || `n/a`;
        document.querySelector('output#altitudeAccuracy').innerHTML = altitudeAccuracy || `n/a`;
        document.querySelector('output#speed').innerHTML = speed || `n/a`;
      }

      // let buttonClick = function() {
        // console.log('clicked');
      if(navigator.geolocation) {
        navigator.geolocation.watchPosition(displayCoordinates, showError);
      } else {
        console.log(`geolocation is not available`);
      }
      // }

    </script>
  </body>
</html>
